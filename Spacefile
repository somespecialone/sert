v: 0

app_name: "SERT"

micros:
  - name: frontend
    src: frontend
    engine: svelte
    primary: true
    public: true

  - name: backend
    src: backend
    engine: nodejs16
    path: api
    public_routes:
      - "/rates"
      - "/history"
    actions:
      - id: "update-prices"
        name: "Update prices"
        trigger: "schedule"
        default_interval: "9,39 * * * ?"
    presets:
      env:
        - name: LISTING_ID
          description: "Market or listing id of listing."
        - name: ITEM_MARKET_NAME
          description: "Item market hash name."
        - name: LISTING_FILTER_PARAM
          description: "Search listing query. Optional."
        - name: LISTING_START_PARAM
          description: "Offset of listings. Optional."
        - name: ALLOW_ORIGIN
          description: "CORS Header. Optional."
        - name: CURRENCIES_TO_FETCH
          description: "Just currencies. Don't pass USD. Optional."
          default: "EUR,RUB,TRY,UAH,CNY,KZT"
        - name: RATE_LIMIT
          description: "Max count of currencies to fetch in single round. Optional. Default 4"
        - name: STEAM_GAME_ID
          description: "App id of game. Optional. Default CSGO (730)."
        - name: HISTORY_SIZE
          description: "Size of cashed history. Optional. Default 150."
        - name: HISTORY_LENGTH
          description: "Length of history response. Optional. Default 30."
